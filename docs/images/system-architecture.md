# System Architecture Diagram

```
┌──────────────────────────────────────────────────────────────────────────────┐
│                              USERS / CLIENTS                                 │
│                                                                              │
│    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐                   │
│    │ Super Admin │    │Tenant Admin │    │ Regular User│                   │
│    └─────────────┘    └─────────────┘    └─────────────┘                   │
│           │                  │                  │                           │
└───────────┼──────────────────┼──────────────────┼───────────────────────────┘
            │                  │                  │
            ▼                  ▼                  ▼
┌──────────────────────────────────────────────────────────────────────────────┐
│                         FRONTEND LAYER (Port 3000)                           │
│  ┌────────────────────────────────────────────────────────────────────────┐ │
│  │                        React Application (Vite)                        │ │
│  │  ┌──────────────────────────────────────────────────────────────────┐ │ │
│  │  │                         Router (React Router)                     │ │ │
│  │  │  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌────────┐│ │ │
│  │  │  │ Landing  │ │  Login   │ │Dashboard │ │ Projects │ │ Tasks  ││ │ │
│  │  │  │   Page   │ │ Register │ │   Page   │ │   Page   │ │ Kanban ││ │ │
│  │  │  └──────────┘ └──────────┘ └──────────┘ └──────────┘ └────────┘│ │ │
│  │  └──────────────────────────────────────────────────────────────────┘ │ │
│  │  ┌──────────────────────────────────────────────────────────────────┐ │ │
│  │  │                      State Management                            │ │ │
│  │  │   ┌─────────────────┐        ┌─────────────────────────────┐   │ │ │
│  │  │   │   AuthContext   │        │     Local Storage (JWT)      │   │ │ │
│  │  │   └─────────────────┘        └─────────────────────────────┘   │ │ │
│  │  └──────────────────────────────────────────────────────────────────┘ │ │
│  │  ┌──────────────────────────────────────────────────────────────────┐ │ │
│  │  │                    HTTP Client (Axios)                           │ │ │
│  │  │   • Auto-attach JWT token to all requests                        │ │ │
│  │  │   • Base URL: http://localhost:5000/api                          │ │ │
│  │  └──────────────────────────────────────────────────────────────────┘ │ │
│  └────────────────────────────────────────────────────────────────────────┘ │
└──────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      │ HTTP/REST API
                                      │ (JSON)
                                      ▼
┌──────────────────────────────────────────────────────────────────────────────┐
│                         BACKEND LAYER (Port 5000)                            │
│  ┌────────────────────────────────────────────────────────────────────────┐ │
│  │                    Django REST Framework Application                   │ │
│  │  ┌──────────────────────────────────────────────────────────────────┐ │ │
│  │  │                        Middleware Stack                          │ │ │
│  │  │   ┌─────────┐ ┌──────────┐ ┌────────────┐ ┌──────────────────┐ │ │ │
│  │  │   │  CORS   │→│ Security │→│   Session  │→│ Authentication   │ │ │ │
│  │  │   └─────────┘ └──────────┘ └────────────┘ └──────────────────┘ │ │ │
│  │  └──────────────────────────────────────────────────────────────────┘ │ │
│  │  ┌──────────────────────────────────────────────────────────────────┐ │ │
│  │  │                        URL Routing                               │ │ │
│  │  │   /api/auth/*    → accounts.views                               │ │ │
│  │  │   /api/tenants/* → tenants.views                                │ │ │
│  │  │   /api/projects  → projects.views                               │ │ │
│  │  │   /api/tasks/*   → tasks.views                                  │ │ │
│  │  │   /api/audit-logs/* → audit_logs.views                          │ │ │
│  │  │   /api/health    → health_check                                 │ │ │
│  │  └──────────────────────────────────────────────────────────────────┘ │ │
│  │  ┌──────────────────────────────────────────────────────────────────┐ │ │
│  │  │                     Application Modules                          │ │ │
│  │  │  ┌───────────┐ ┌───────────┐ ┌───────────┐ ┌───────────┐       │ │ │
│  │  │  │ accounts  │ │  tenants  │ │ projects  │ │   tasks   │       │ │ │
│  │  │  │  • User   │ │ • Tenant  │ │ • Project │ │  • Task   │       │ │ │
│  │  │  │  • Auth   │ │ • Plans   │ │ • CRUD    │ │  • Kanban │       │ │ │
│  │  │  │  • JWT    │ │ • Limits  │ │           │ │  • Status │       │ │ │
│  │  │  └───────────┘ └───────────┘ └───────────┘ └───────────┘       │ │ │
│  │  │  ┌───────────────────────────────────────────────────────┐     │ │ │
│  │  │  │                    audit_logs                          │     │ │ │
│  │  │  │  • Action tracking  • User activity  • Resource logs   │     │ │ │
│  │  │  └───────────────────────────────────────────────────────┘     │ │ │
│  │  └──────────────────────────────────────────────────────────────────┘ │ │
│  │  ┌──────────────────────────────────────────────────────────────────┐ │ │
│  │  │                     Security Layer                               │ │ │
│  │  │  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐   │ │ │
│  │  │  │ JWT Validation  │ │ RBAC Permissions│ │ Tenant Isolation│   │ │ │
│  │  │  │ (SimpleJWT)     │ │ (Custom Classes)│ │ (Query Filters) │   │ │ │
│  │  │  └─────────────────┘ └─────────────────┘ └─────────────────┘   │ │ │
│  │  └──────────────────────────────────────────────────────────────────┘ │ │
│  └────────────────────────────────────────────────────────────────────────┘ │
└──────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      │ Django ORM
                                      │ (SQL Queries)
                                      ▼
┌──────────────────────────────────────────────────────────────────────────────┐
│                        DATABASE LAYER (Port 5432)                            │
│  ┌────────────────────────────────────────────────────────────────────────┐ │
│  │                         PostgreSQL 15                                  │ │
│  │  ┌──────────────────────────────────────────────────────────────────┐ │ │
│  │  │                          Tables                                  │ │ │
│  │  │  ┌─────────┐ ┌─────────┐ ┌──────────┐ ┌─────────┐ ┌───────────┐│ │ │
│  │  │  │ tenants │ │  users  │ │ projects │ │  tasks  │ │audit_logs ││ │ │
│  │  │  └─────────┘ └─────────┘ └──────────┘ └─────────┘ └───────────┘│ │ │
│  │  └──────────────────────────────────────────────────────────────────┘ │ │
│  │  ┌──────────────────────────────────────────────────────────────────┐ │ │
│  │  │                    Data Persistence                              │ │ │
│  │  │              Docker Volume: db_data                              │ │ │
│  │  └──────────────────────────────────────────────────────────────────┘ │ │
│  └────────────────────────────────────────────────────────────────────────┘ │
└──────────────────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────────────────┐
│                        DOCKER NETWORK: saas_network                          │
│                                                                              │
│  ┌─────────────┐       ┌─────────────┐       ┌─────────────┐               │
│  │  frontend   │ ────▶ │   backend   │ ────▶ │  database   │               │
│  │  :3000      │       │   :5000     │       │   :5432     │               │
│  └─────────────┘       └─────────────┘       └─────────────┘               │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘
```

## Component Description

### Frontend (React + Vite)

- **Technology**: React 19, Vite 7, Tailwind CSS
- **Port**: 3000
- **Container**: Served with `serve` (production build)
- **Responsibilities**: UI rendering, state management, API communication

### Backend (Django + DRF)

- **Technology**: Python 3.11, Django 5.1, Django REST Framework
- **Port**: 5000
- **Container**: Python slim image with entrypoint script
- **Responsibilities**: API endpoints, authentication, business logic, data validation

### Database (PostgreSQL)

- **Technology**: PostgreSQL 15
- **Port**: 5432
- **Volume**: Persistent data storage
- **Responsibilities**: Data persistence, relational integrity

### Inter-Service Communication

- Frontend → Backend: HTTP/REST over Docker network
- Backend → Database: PostgreSQL protocol over Docker network
- All services connected via `saas_network` bridge network
